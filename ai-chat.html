<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://js.puter.com/v2/"></script>
    <script>
      window.onload = () => {
        AIReady.postMessage("ready");
      };

      // Expose this to Flutter
      window.chatWithAI = async function(message) {
        try {
          const res = await puter.ai.chat(message, { model: "gpt-4.1-nano" });
          if (res.choices && res.choices.length > 0) {
            return res.choices[0].message.content;
          } else {
            return JSON.stringify(res);
          }
        } catch (e) {
          return "‚ùå AI Error: " + e.message;
        }
      };
    </script>
  </head>
  <body>
    <p style="font-family:sans-serif">AI Chatbot Loaded</p>
  </body>
</html>
